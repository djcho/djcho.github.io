---
title : "[Exception] 예외 처리에 대한 고찰"
categories:
- DevThink
tag :
- [Common, Exception, Java]
toc: true
toc_sticky : true
published : true
date : 2023-01-20
last_modified_at : 2023-01-20
---



# 예외 처리에 대한 고찰

팀원 중 한 분께서 예외처리에 대한 고민을 늘어 놓으셨다. 주된 고민의 내용은 언제 기능의 흐름을 끊어 내면서까지 throw를 던져야 하는지와 어떨 때 발생된 예외를 catch 하여 하는지 판단하기 기준을 잘 모르겠다는것이었다. 난 이 질문에 대한 답변을 그저 명확하지 않고 말로 표현할 수 없는 두리뭉실한 느낌적인 부분을 근거라하며 설명을 이어갈 뿐 정확히 설명할 수 없었다. 때문에 이번 기회에 스스로 정리할겸 예외처리에 대한 나름대로의 생각을 정리해 본다.



요지는 크게 두가이였다.

1. 언제 throw를 해야 하는지
    1. 예외란 무엇인가
    2. 
2. 언제 catch를 해야 하는지
    1. 비지니스 코드의 예외
    2. 다시 예외를 던지는 기준





## 언제 throw를 해야 하는가

### 예외란 무엇인가

언제 예외를 던져야 하는지 생각해보려면 우선 예외가 무엇인지부터 생각 해야한다. 예외란 무엇일까, 한 마디로 표현하자면 예외란 기능의 의도치 않은 동작을 말한다. 그리고  어느 정도 예측이 가능하기 때문에 개발자는 예측되는 시점에 예외를 처리하는 코드를 작성해야 한다. 예외를 throw한다는 것은 기능의 의도치 않은 동작을 명시하는 행위이다. 



### Exception 이 존재하지 않는 언어에서의 예외처리

Exception 이 존재하지 않는 C언어의 프로그래밍 방식에서는 함수의 성공 유무를 확인하는 방법으로 일반적으로 함수의 리턴 값을 사용한다.

```c
int value = 0;
int result = foo(&value);
if(result != ERROR_SUCCESS){
    //실패 처리
    return ERROR_GET_VALUE_FAILED;
}

result = goo(&value);
if(result != ERROR_SUCCESS){
    //실패 처리
    return ERROR_GET_VALUE_FAILED;
}
```

일괄 처리 불가능, 늘어지는 비즈니스 코드, 내부 예외 발생 원인 파악 시 반드시 코드를 보고 확인해야 하는 번거로움



### Exception 의 장점

예외의 캡슐화 같은 Exception 별로 핸들링 가능하다. 

간략해진 비즈니스 코드, 예외 객체만으로 어느정도 내부 원인 짐작 가능



### Exception의 단점

성능과 가독성

## 비즈니스 코드에서의 예외

### 커스텀 예외의 필요성

비즈니스 로직에 대한 예외는 일반 표준 예외로 커버할 수 없는 경우가 존재한다. 커스텀 예외만을 위한 특별한 예외 처리 가능, 예외의 응집화



### 예외를 잡고 던지는 기준

#### 예외 전환

예외 전환이 필요할 때

예외 전환은 레이어의 외부로 노출 되어 있는 메서드들에서 한다.

예외 전환 시에는 해당 객체나 기능의 컨텍스트에 맞게 재해석하여 던진다.









